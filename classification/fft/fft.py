import numpy as np
import matplotlib.pyplot as plt
import scipy
from scipy import fftpack

data1 = np.array([49.0,50.0,50.0,50.0,49.0,50.0,49.0,49.0,50.0,49.0,50.0,49.0,50.0,50.0,50.0,50.0,49.0,50.0,50.0,49.0,50.0,50.0,50.0,50.0,49.0,49.0,49.0,49.0,49.0,49.0,50.0,49.0,48.0,49.0,49.0,49.0,50.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,50.0,50.0,49.0,50.0,49.0,49.0,49.0,50.0,49.0,49.0,49.0,50.0,49.0,50.0,50.0,49.0,48.0,49.0,49.0,50.0,50.0,49.0,49.0,49.0,50.0,49.0,49.0,49.0,50.0,50.0,50.0,49.0,48.0,49.0,50.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,50.0,50.0,49.0,50.0,49.0,49.0,50.0,50.0,50.0,49.0,49.0,50.0,48.0,49.0,50.0,49.0,50.0,49.0,50.0,50.0,49.0,50.0,50.0,49.0,50.0,49.0,50.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,50.0,49.0,50.0,50.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,50.0,48.0,49.0,50.0,49.0,48.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,50.0,50.0,49.0,49.0,50.0,49.0,50.0,50.0,50.0,49.0,50.0,50.0,50.0,49.0,49.0,50.0,50.0,49.0,49.0,49.0,50.0,49.0,50.0,49.0,50.0,50.0,48.0,50.0,50.0,49.0,49.0,50.0,50.0,50.0,49.0,49.0,50.0,50.0,50.0,50.0,49.0,49.0,49.0,49.0,50.0,49.0,49.0,49.0,49.0,49.0,50.0,49.0,49.0,50.0,50.0,49.0,50.0,50.0,50.0,49.0,49.0,50.0,49.0,49.0,50.0,49.0,49.0,49.0,49.0,49.0,50.0,49.0,49.0,49.0,49.0,49.0,50.0,50.0,50.0,50.0,50.0,49.0,50.0,50.0,50.0,49.0,49.0,50.0,49.0,49.0,49.0,50.0,48.0,49.0,49.0,48.0,49.0,49.0,48.0,50.0,49.0,50.0,50.0,49.0,49.0,49.0,49.0,50.0,49.0,49.0,49.0,48.0,50.0,49.0,49.0,49.0,49.0,49.0,48.0,49.0,49.0,49.0,49.0,48.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,50.0,49.0,50.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,48.0,50.0,49.0,49.0,49.0,50.0,50.0,49.0,49.0,49.0,49.0,50.0,48.0,49.0,49.0,50.0,49.0,49.0,50.0,49.0,50.0,49.0,49.0,49.0,50.0,50.0,50.0,50.0,49.0,50.0,50.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,50.0,49.0,50.0,49.0,50.0,50.0,49.0,49.0,49.0,50.0,49.0,50.0,50.0,49.0,50.0,49.0,49.0,49.0,48.0,49.0,50.0,50.0,50.0,50.0,50.0,49.0,49.0,49.0,50.0,50.0,50.0,50.0,49.0,50.0,49.0,50.0,49.0,49.0,50.0,49.0,50.0,49.0,50.0,49.0,50.0,49.0,49.0,49.0,50.0,49.0,49.0,49.0,49.0,49.0,50.0,50.0,50.0,49.0,49.0,49.0,49.0,48.0,48.0,49.0,49.0,49.0,50.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,50.0,49.0,49.0,49.0,50.0,49.0,48.0,49.0,50.0,49.0,50.0,50.0,50.0,49.0,50.0,49.0,50.0,49.0,49.0,49.0,49.0,50.0,49.0,50.0,50.0,50.0,49.0,49.0,49.0,50.0,50.0,49.0,50.0,50.0,50.0,50.0,50.0,49.0,49.0,50.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,50.0,48.0,48.0,49.0,49.0,49.0,50.0,49.0,48.0,49.0,49.0,50.0,49.0,49.0,49.0,50.0,50.0,49.0,49.0,49.0,50.0,49.0,50.0,48.0,48.0,49.0,49.0,49.0,49.0,50.0,49.0,49.0,49.0,50.0,49.0,50.0,49.0,50.0,49.0,49.0,49.0,50.0,49.0,50.0,50.0,50.0,48.0,49.0,50.0,50.0,50.0,48.0,49.0,48.0,49.0,49.0,49.0,49.0])
data2 = np.array([49.0,50.0,50.0,49.0,50.0,49.0,49.0,50.0,49.0,50.0,50.0,49.0,49.0,50.0,50.0,50.0,50.0,50.0,49.0,49.0,50.0,50.0,49.0,50.0,49.0,49.0,49.0,49.0,49.0,48.0,50.0,50.0,50.0,50.0,49.0,50.0,49.0,49.0,50.0,49.0,50.0,50.0,49.0,49.0,49.0,50.0,49.0,50.0,49.0,50.0,49.0,50.0,50.0,50.0,49.0,49.0,50.0,49.0,50.0,49.0,49.0,50.0,49.0,50.0,50.0,49.0,49.0,50.0,49.0,50.0,50.0,50.0,49.0,50.0,50.0,49.0,49.0,50.0,48.0,49.0,49.0,49.0,49.0,49.0,50.0,49.0,50.0,49.0,49.0,50.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,50.0,49.0,50.0,50.0,49.0,49.0,49.0,49.0,50.0,50.0,49.0,49.0,49.0,50.0,50.0,50.0,49.0,50.0,50.0,49.0,49.0,50.0,49.0,50.0,50.0,49.0,50.0,50.0,50.0,50.0,49.0,49.0,49.0,49.0,49.0,49.0,50.0,50.0,50.0,49.0,50.0,50.0,50.0,50.0,50.0,49.0,50.0,49.0,49.0,50.0,50.0,50.0,50.0,49.0,50.0,49.0,49.0,48.0,50.0,49.0,50.0,49.0,50.0,49.0,49.0,50.0,49.0,50.0,49.0,49.0,50.0,49.0,49.0,50.0,50.0,50.0,49.0,50.0,50.0,50.0,49.0,50.0,49.0,49.0,50.0,49.0,49.0,49.0,50.0,49.0,50.0,50.0,49.0,50.0,50.0,50.0,50.0,50.0,50.0,49.0,49.0,49.0,50.0,50.0,50.0,49.0,50.0,50.0,50.0,50.0,49.0,49.0,49.0,50.0,49.0,49.0,50.0,49.0,49.0,49.0,49.0,48.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,48.0,49.0,49.0,50.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,50.0,49.0,49.0,50.0,49.0,48.0,49.0,48.0,49.0,49.0,49.0,49.0,49.0,48.0,49.0,50.0,49.0,49.0,50.0,50.0,50.0,49.0,50.0,50.0,49.0,50.0,49.0,49.0,50.0,50.0,48.0,50.0,49.0,49.0,50.0,49.0,50.0,50.0,50.0,49.0,49.0,50.0,50.0,50.0,49.0,50.0,50.0,50.0,50.0,49.0,50.0,50.0,50.0,49.0,50.0,49.0,49.0,50.0,50.0,50.0,50.0,49.0,49.0,50.0,49.0,49.0,50.0,49.0,50.0,49.0,50.0,48.0,50.0,50.0,50.0,50.0,50.0,49.0,49.0,50.0,49.0,50.0,50.0,50.0,50.0,49.0,50.0,49.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,49.0,50.0,49.0,50.0,50.0,50.0,49.0,50.0,50.0,50.0,49.0,50.0,50.0,50.0,50.0,49.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,49.0,50.0,49.0,49.0,50.0,50.0,50.0,48.0,50.0,50.0,50.0,50.0,49.0,50.0,50.0,50.0,49.0,50.0,49.0,49.0,50.0,49.0,49.0,49.0,50.0,50.0,49.0,49.0,49.0,49.0,50.0,49.0,49.0,49.0,50.0,48.0,50.0,50.0,50.0,50.0,50.0,49.0,50.0,48.0,49.0,49.0,49.0,50.0,50.0,50.0,49.0,49.0,50.0,50.0,50.0,49.0,49.0,50.0,50.0,50.0,50.0,50.0,49.0,50.0,51.0,49.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,49.0,50.0,50.0,50.0,50.0,49.0,49.0,49.0,49.0,50.0,50.0,49.0,49.0,50.0,50.0,49.0,50.0,50.0,50.0,50.0,49.0,49.0,50.0,49.0,49.0,50.0,49.0,50.0,49.0,49.0,49.0,48.0,49.0,50.0,49.0,48.0,49.0,50.0,49.0,50.0,49.0,50.0,49.0,50.0,49.0,49.0,50.0,50.0,49.0,49.0,49.0,50.0,50.0,50.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,49.0,48.0,50.0,49.0,49.0,50.0,50.0,49.0,49.0,49.0,49.0,50.0])

#! Definitions
#? sampling rate (sampling frequency) - the number of samples per seconds
#? sampling time - the time interval between successive samples

sampling_rate = 512

# def test1():
#     f = 10 # Frequency
#     f_s = 100 # Sampling rate

def test2():
    #! Process
    f_s = 512
    t = np.linspace(0, 512, 1 * f_s, endpoint=False)
    x = data2
    x = np.subtract(x, np.average(x))

    X = fftpack.fft(x)
    freqs = fftpack.fftfreq(len(x)) * f_s
    #freqs = fftpack.fftfreq(len(x))

    frange = np.linspace(0, 512, 512)
    print(freqs)

    #! Plotting
    fig, ax = plt.subplots()
    ax.plot(t, x)
    plt.ylabel('amplitude')
    plt.xlabel('time (512 samples per second)')
    #plt.ylim(min(x) - 3, max(x) + 3)

    fig, ax = plt.subplots()
    ax.plot(freqs, np.abs(X))
    #ax.stem(freqs, X)
    #ax.plot(frange, np.abs(X))
    plt.ylabel('amplitude')
    plt.xlabel('frequency (abs)')
    ax.plot()
    #plt.ylim(0,50)

    fig, ax = plt.subplots()
    ax.plot(fftpack.fftshift(np.abs(X)))
    plt.ylabel('amplitude')
    plt.xlabel('frequency (shift)')
    ax.plot()

    fig, ax = plt.subplots()
    ax.plot(np.abs(X))
    plt.ylabel('amplitude')
    plt.xlabel('fft result (abs)')
    ax.plot()
    
    plt.show()



test2()